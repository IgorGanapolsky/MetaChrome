# Smoke Test: Meta Ray-Ban Settings
# Tags: smoke, bluetooth
# Description: Verifies the Meta Ray-Ban settings page loads and basic interactions work

appId: com.metachrome.app
tags:
  - smoke
  - bluetooth

---

# Launch the app
- launchApp:
    clearState: true

# Wait for app to load
- extendedWaitUntil:
    visible: "Claude"
    timeout: 10000

# Navigate to Meta Ray-Ban settings
- tapOn:
    id: "glasses-button"
    optional: true

# If glasses button not found, try settings
- runFlow:
    when:
      notVisible: "Meta Ray-Ban"
    commands:
      - tapOn:
          text: ".*settings.*"
          optional: true

# Wait for settings page
- extendedWaitUntil:
    visible: "Meta Ray-Ban"
    timeout: 5000

# Verify settings elements are present
- assertVisible: "Meta Ray-Ban"
- assertVisible:
    text: ".*Connect.*"
    optional: true

# Verify voice settings section
- assertVisible:
    text: "Voice Settings"
    optional: true

- assertVisible:
    text: "Wake Word"
    optional: true

# Take screenshot
- takeScreenshot: "smoke-meta-rayban-settings"

# Test toggle interactions (if visible)
- runFlow:
    when:
      visible: "Voice Feedback"
    commands:
      - tapOn: "Voice Feedback"
      - takeScreenshot: "smoke-toggle-voice-feedback"

# Navigate back
- back

# Verify we're back on main screen
- extendedWaitUntil:
    visible: "Claude"
    timeout: 5000

- takeScreenshot: "smoke-meta-rayban-complete"
